<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

    <changeSet id="create_table_with_clob_1" author="dan">
        <createTable tableName="TABLE_WITH_CLOB">
            <column name="id" type="integer not null" />
            <column name="data" type="clob" />
            <column name="created_user_id" type="varchar(10)"  />
            <column name="created_timestamp" type="timestamp" defaultValueComputed="CURRENT_TIMESTAMP" />
            <column name="updated_user_id" type="varchar(10)" />
            <column name="updated_timestamp" type="timestamp" defaultValueComputed="CURRENT_TIMESTAMP" />
        </createTable>
        <addPrimaryKey tableName="TABLE_WITH_CLOB" columnNames="id"/>
    </changeSet>

    <changeSet id="insert_table_with_clob_1" author="dan">
        <insert tableName="TABLE_WITH_CLOB">
            <column name="id" value="1" />
            <column name="data" valueClobFile="data.json" />
            <column name="created_user_id" value="dan" />
            <column name="updated_user_id" value="dan" />
        </insert>
    </changeSet>

    <changeSet id="insert_table_with_clob_2" author="dan">
        <insert tableName="TABLE_WITH_CLOB">
            <column name="id" value="2" />
            <column name="data" valueClobFile="data_2.json" />
            <column name="created_user_id" value="dan" />
            <column name="updated_user_id" value="dan" />
        </insert>
    </changeSet>
</databaseChangeLog>